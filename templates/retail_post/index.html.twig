{% extends 'base.html.twig' %}

{% block title %}SnowTricks{% endblock %}

{% block head %}

{% if pictureList is empty %}
    <div style="background-image: url('../images/background/snowboard1.jpg ') !important; height: 100%; background-position: bottom 50px;
    background-repeat: no-repeat; background-size: cover;"  class="row text-center m-0 p-0">
{% else %} 
    <div style="background-image: url('{{ pictureList.0.name }}') !important; height: 100%; background-position: center;
    background-repeat: no-repeat; background-size: cover;"  class="row text-center m-0 p-0">
{% endif %}
    <div class="p-3">
        <div class="d-sm-none d-lg-block">
            <div class="d-flex justify-content-end align-items-end p-0">   
                <p class="px-2 m-0 bg-edit-button button-deco" >
                    <a href=""><i class="fa-solid fa-pencil" style="color: #D9C7A6;"></i></a>
                </p>
                <p class="px-2 m-0 bg-edit-button button-deco">
                    <a href=""><i class="fa-solid fa-trash" style="color: #B04C46;"></i></a>
                </p>
            </div>            
        </div>
        <div class="d-flex justify-content-end align-items-end p-0">
            <p class="d-lg-none px-2 m-0 bg-edit-button button-deco">
                <a href=""><i id="pencil-icon" class="fa-solid fa-pencil p-2" style="color: #D9C7A6;"></i></a>
            </p>
            <p class="d-lg-none px-2 m-0 bg-edit-button button-deco">
                <a href=""><i id="trash-icon" class="fa-solid fa-trash p-2" style="color: #B04C46;"></i></a>
            </p>
        </div>

    </div>    
    <div class="d-sm-none d-lg-block">
        <h1 class="col-4 m-auto d-flex align-items-end justify-content-center text-center bg-edit-button">{{ post.title }}</h1>
    </div>
    <h1 class="m-auto d-lg-none d-flex align-items-center justify-content-center text-center bg-edit-button" style="font-size: 5rem;">{{ post.title }}</h1>


</div>
{% endblock %}

{% block body %}
<div id="list-medias" class="d-sm-none d-lg-block">
    <div class="row col-12 pb-5 d-lg-flex m-0 mt-3">
        {% for picture in pictureList %}
        <div class="col-12 col-lg-2 mx-auto mx-lg-3 my-lg-3 p-0">
            <img src="{{ picture.name }}" class="card-img-top m-auto img-fluid img-thumbnail" alt="...">
        </div>
        {% endfor %}
        {% for videoUrl in videoUrlList %}
        <div class="col-12 col-lg-2 mx-auto mx-lg-3 my-lg-3 p-0">
            <iframe height="315" class="card-img-top m-auto img-fluid img-thumbnail" src="{{ videoUrl.videoUrl }}" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
        </div>
        {% endfor %}
    </div>

</div>

{% if pictureList is not empty and videoUrlList is not empty %}
<div class="row my-5 pb-5 pb-lg-0 pt-0 pt-lg-5 d-lg-none">
    <div class="d-flex align-items-end justify-content-center text-center">
        <button href="" id="togg1" class="d-flex flex-colomn rounded text-decoration-none">
            <i id="spinner-icon" class="fa-solid fa-spinner p-2"></i>
            <h3 id="load-text" class="fs-5 m-0 p-3"> Voir les medias </h3>
        </button>
    </div>
</div>
{% endif %}

<div class="col-12 col-lg-10 m-auto">
    <p class=" p-3 shadow text-break"><span>{{ post.content }}</span></p>
</div>
<div class="col-12 col-lg-8 m-auto">
    <div class="row my-5 pb-5 ">
        <div style="height: 3rem" class="d-flex mx-auto justify-content-center text-center list-group list-group-horizontal">
            <h3 class="m-0 list-group-item fs-4">
                {{ post.category.title }}
            </h3>
            <h3 class="m-0 list-group-item fs-4">
                Auteur : blabla lui
            </h3>
            <h3 class="m-0 list-group-item fs-4">
                Créé le {{ post.createdAt | date("d/m/Y",
                "Europe/Paris") }}
            </h3>
            <h3 class="m-0 list-group-item fs-4">
                Mise à jour le {{ post.updateDate |
                    date("d/m/Y",
                    "Europe/Paris") }}
            </h3>

        </div>
    </div>
</div>

<div class="col-12 col-lg-10 m-auto">
    <hr class="border-black border-2 my-5">
</div>

<div class="col-12 col-lg-8 m-auto">
    <div class="input-group mb-3 col-6">
        <input type="text" class="form-control bg-edit-button" placeholder="Commentaire ... ">
        <button class="btn bg-edit-button button-deco" type="button">Laisser un commentaire</button>
    </div>
</div>

<div class="col-12 col-lg-10 m-auto">
    <hr class="border-black border-2 my-5">
</div>

<div class="col-12 col-lg-8 m-auto">
{# {% for comment in comments %} #}
    <div class="pt-5 px-5 justify-content-around shadow pb-3">
        <div class="d-flex justify-content-between mb-3">
            <div class="pe-3">
                {# {% for user in users %}
                {% if comment.id_user is same as user.id %} #}
                <img id="avatar-user" class="img-fluid rounded-circle mb-4 avatar"
                {# {% if user.avatar is not null %} 
                    src="{{ ROOT }}images/avatar_upload/"
                    {% else %} #}
                    src="../images/default/default-avatar.png" 
                    {# {% endif %}  #}
                    alt="..." />
                <h3 class="fs-5 text-center">userTestPseudo</h3>
                {# {% endif %}
                {% endfor %} #}
            </div>
            <div class="p-3 pt-5 bg-edit-button button-deco flex-fill">
                <p class="small text-break">commentaire Lorem ipsum dolor sit amet consectetur adipisicing elit. Accusamus reiciendis voluptate excepturi sit delectus. Animi quaerat placeat quos ea minima? Error rem quisquam repellat excepturi quia eum illum repudiandae ducimus!</p>
                <p class="blockquote-footer d-flex justify-content-end mt-2">Le xx/xx/xxxx</p>
            </div>
        </div>
{# {% endfor %} #}

        <div class="d-flex justify-content-between mb-3">
            <div class="pe-3">
                <img id="avatar-user" class="img-fluid rounded-circle mb-4 avatar"
                    src="../images/default/default-avatar.png" 
                    alt="..." />
                <h3 class="fs-5 text-center">userTestPseudo</h3>
            </div>
            <div class="p-3 pt-5 bg-edit-button button-deco flex-fill">
                <p class="small">commentaire Lorem ipsum dolor sit amet consectetur adipisicing elit. Accusamus reiciendis voluptate excepturi sit delectus.</p>
                <p class="blockquote-footer d-flex justify-content-end mt-2">Le xx/xx/xxxx</p>
            </div>
        </div>
    </div>
</div>
{# {% if countCommentList is defined and countCommentList > 15 and loader is defined %} #}
<div class="mt-5 pb-sm-5 pb-lg-0 pt-sm-0 pt-lg-5">
    <div class=" d-flex align-items-end justify-content-center text-center">
        <a href="{{ path("complete_post_list") }}" id="load-button" class="d-flex flex-colomn rounded text-decoration-none">
            <i id="spinner-icon" class="fa-solid fa-spinner p-2"></i>
            <h3 id="load-text" class="fs-5 m-0 p-3"> Load more </h3>
        </a>
    </div>
{# {% endif %} #}
</div>


<div style="height:150px"></div>

{% endblock %}

{% block javascripts %}
    <script src="{{ asset('js/script.js') }}"></script>
{% endblock %}
